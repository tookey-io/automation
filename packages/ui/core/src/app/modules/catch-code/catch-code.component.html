<!-- <iframe [src]="embedUrl$ | async | safe:'url'" class="ap-fixed ap-inset-0"></iframe> -->
<!-- <iframe src="https://t.me/InstantFormsBot/oauth?startapp=9b0eec85-6da8-4212-a11c-7d9895540f0d" class="ap-fixed ap-inset-0"></iframe> -->
<div class="ap-p-10 ap-flex ap-items-center ap-justify-center ap-w-full ap-h-full ap-flex-col">
    <img *ngIf="appIcon | async" [src]="appIcon | async" class="ap-w-20 ap-h-20 ap-rounded-full ap-mb-4" />
    <div
        *ngIf="!(appIcon | async)"
        class="ap-w-20 ap-h-20 ap-text-3xl ap-text-white ap-rounded-full ap-bg-primary ap-font-bold ap-flex ap-items-center ap-justify-center ap-mb-4"
    >
        ?
    </div>
    <h2 *ngIf="appName | async" class="ap-font-bold ap-text-xl ap-mb-4">Connect {{ appName | async }}</h2>
    <h2 *ngIf="!(appName | async)" class="ap-font-bold ap-text-xl ap-mb-4">Connect App</h2>
    <p class="ap-mb-10 ap-w-2/3">
        Will open a new window/tab to authenticate. Return manually if not redirect automatically.
    </p>
    <ap-button
        *ngIf="embedUrl$ | async"
        btnColor="primary"
        (buttonClicked)="openPopup()"
        type="button"
        i18n
        >Open Window</ap-button
    >
</div>
<div class="ap-fixed ap-z-10 ap-inset-0" *ngIf="catchedCode$ | async">code is {{ catchedCode$ | async }}</div>
<!-- <ng-container *ngIf="sendCodeFromIFrame$ | async"></ng-container> -->
